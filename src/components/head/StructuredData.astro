---
import { settings } from '@/config/settings';
import { Address, Phone, Email, Socials, CompanyName } from '@/config/company';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Main organization structured data
const structuredData = {
	'@context': 'https://schema.org',
	'@type': 'SportsOrganization',
	'@id': 'https://besaide.eus#organization',
	name: CompanyName,
	alternateName:
		lang === 'eu' ? 'Besaide Mendi Elkartea' : 'Asociación de Montaña Besaide',
	description: t(settings.description),
	url: 'https://besaide.eus',
	logo: {
		'@type': 'ImageObject',
		url: 'https://besaide.eus/main-logo-horizontal.png',
		width: 300,
		height: 224
	},
	image: [
		'https://besaide.eus/main-logo-horizontal.png',
		'https://besaide.eus/open-graph.jpg'
	],
	telephone: Phone.name,
	email: Email.name.replace('mailto:', ''),
	sameAs: [Socials.facebook, Socials.instagram, Socials.wikiloc],
	address: {
		'@type': 'PostalAddress',
		streetAddress: 'Garibai 3 bis',
		addressLocality: 'Arrasate',
		addressRegion: 'Gipuzkoa',
		postalCode: '20500',
		addressCountry: 'ES'
	},
	geo: {
		'@type': 'GeoCoordinates',
		latitude: 43.0651336,
		longitude: -2.4921267
	},
	openingHoursSpecification: [
		{
			'@type': 'OpeningHoursSpecification',
			dayOfWeek: ['Tuesday', 'Wednesday'],
			opens: '19:30',
			closes: '20:30'
		}
	],
	areaServed: [
		{
			'@type': 'City',
			name: 'Arrasate'
		},
		{
			'@type': 'City',
			name: 'Mondragón'
		},
		{
			'@type': 'AdministrativeArea',
			name: 'Gipuzkoa'
		},
		{
			'@type': 'AdministrativeArea',
			name: 'País Vasco'
		}
	],
	sport: ['Mountain Climbing', 'Hiking', 'Skiing', 'Mountaineering'],
	memberOf: {
		'@type': 'SportsOrganization',
		name:
			lang === 'eu'
				? 'Euskal Mendizale Federakundea'
				: 'Federación Vasca de Montaña'
	},
	hasMap: Address.url,
	isAccessibleForFree: false,
	knowsAbout: [
		lang === 'eu' ? 'Mendizale jarduera' : 'Actividad montañera',
		lang === 'eu' ? 'Mendi ibilaldiak' : 'Excursiones de montaña',
		lang === 'eu' ? 'Eski alpinoa' : 'Esquí alpino',
		lang === 'eu' ? 'Mendizale hezkuntza' : 'Educación montañera'
	]
};

// Breadcrumb data for navigation
const breadcrumbData = {
	'@context': 'https://schema.org',
	'@type': 'BreadcrumbList',
	itemListElement: [
		{
			'@type': 'ListItem',
			position: 1,
			name: lang === 'eu' ? 'Hasiera' : 'Inicio',
			item: 'https://besaide.eus'
		}
	]
};
---

<script
	type="application/ld+json"
	is:inline
	set:html={JSON.stringify(structuredData)}
/>
<script
	type="application/ld+json"
	is:inline
	set:html={JSON.stringify(breadcrumbData)}
/>
