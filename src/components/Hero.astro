---
// Hero component for Besaide homepage
import udalaitzImage from '@/assets/udalaitz.webp';
import { Image } from 'astro:assets';
import { getLangFromUrl, getUrlFromID, useTranslations } from '@/i18n/utils';
import { getEntry } from 'astro:content';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const homepageContent = await getEntry('homepage', 'homepage');
const title =
	lang === 'eu'
		? homepageContent?.data.membershipTitleEu
		: homepageContent?.data.membershipTitleEs;
const description =
	lang === 'eu'
		? homepageContent?.data.membershipDescriptionEu
		: homepageContent?.data.membershipDescriptionEs;
---

<section class="hero" id="hero">
	<Image
		src={udalaitzImage}
		layout="full-width"
		alt="Udalaitz mendia"
		class="hero-image"
	/>
	<div class="hero-overlay"></div>

	<h1 class="h1 content__container">{title}</h1>
	{
		description && description.trim().length > 0 && (
			<p class="content__container">{description}</p>
		)
	}

	<style>
		.hero {
			--hero-color: white;
			--hero-color-contrast: #000000;
			position: relative;
			min-height: 70vh;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			color: var(--hero-color);
			overflow: hidden;
			margin-top: calc(-1 * var(--header-height));
			padding-top: var(--header-height);
			h1,
			p {
				text-align: center;
			}
		}

		.hero-image {
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			object-fit: cover;
			object-position: center;
			z-index: -1;
		}

		.hero-overlay {
			position: absolute;
			inset: 0;
			background: linear-gradient(
				to bottom,
				rgba(0, 0, 0, 0.3) 0%,
				rgba(0, 0, 0, 0.5) 100%
			);
			z-index: -1;
		}

		.btn-home-hero {
			background-color: var(--theme-card) !important;
			color: var(--theme-primary) !important;
			border-color: var(--theme-card) !important;
			transition: opacity 0.3s ease;
			&:hover {
				opacity: 0.72;
			}
		}
	</style>
</section>
