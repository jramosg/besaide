---
import { slugify } from '@/utils/string';

type Props = {
	title: string;
	desc: string;
	eventId?: string;
};
const { title, desc, eventId }: Props = Astro.props;

const metaId = eventId ? `${eventId}-${slugify(title)}` : slugify(title);
---

<div class="home-agenda-meta" style={`view-transition-name: meta-${metaId}`}>
	<div class="icon-container" style={`view-transition-name: icon-${metaId}`}>
		<slot name="icon" />
	</div>
	<h4 class="overline" style={`view-transition-name: title-${metaId}`}>
		{title}
	</h4>
	<span class="meta-desc" style={`view-transition-name: desc-${metaId}`}
		>{desc}</span
	>
</div>

<style>
	.home-agenda-meta {
		display: grid;
		grid-template-columns: auto 1fr;
		grid-template-rows: repeat(2, 1fr);
		column-gap: var(--s2);
	}

	.icon-container {
		grid-row: span 2 / span 2;
		display: flex;
		align-items: center;
	}

	h4,
	p {
		margin-bottom: 0;
	}

	h4 {
		align-content: end;
	}
	p {
		font-weight: var(--font-weight-medium);
	}

	.icon-container :global(svg) {
		--size: var(--font-size-h4);
		width: var(--size);
		height: var(--size);
	}
</style>
