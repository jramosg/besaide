---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
	src: ImageMetadata;
	alt: string;
	slug?: string;
}

const { src, alt, slug } = Astro.props;
const viewTransitionName = slug ? `image-${slug}` : undefined;
---

<header class="hero">
	<Image
		src={src}
		style={viewTransitionName
			? `view-transition-name: ${viewTransitionName}`
			: undefined}
		alt={alt}
		layout="full-width"
	/>
</header>

<style>
	.hero {
		border-radius: var(--theme-shape-radius);
		overflow: hidden;
		box-shadow: 3px 7px 12.8px 4px #00000026;
	}

	.hero img {
		width: 100%;
		height: auto;
		display: block;
		object-fit: cover;
		max-height: 420px;
	}

	@media (max-width: 768px) {
		.hero img {
			max-height: 240px;
		}
	}
</style>
